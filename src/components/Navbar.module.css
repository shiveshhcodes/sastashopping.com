.navbar {
  /* Match screenshot: White background, black text */
  background-color: var(--bg-200);
  color: var(--text-100);
  padding-top: 0.75rem;
  padding-bottom: 0.75rem;
  /* Subtle shadow instead of border */
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
  position: sticky;
  top: 0;
  z-index: 50;
  width: 100%; /* Ensure full width */
  border-bottom: 1px solid var(--primary-300);
}

.navbarContainer {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.logo {
  font-size: 1.75rem;
  font-weight: 700; /* Bolder logo */
  font-family: var(--font-heading); /* Use heading font */
  color: var(--primary-100); /* Black logo text */
  cursor: pointer;
}

.desktopNav {
  display: none; /* Hidden on mobile by default */
  align-items: center;
  gap: 2rem; /* Increased space between links slightly */
}

@media (min-width: 768px) {
  .desktopNav {
    display: flex;
  }
}

.navLink {
  color: var(--text-100);
  font-weight: 500;
  text-decoration: none;
  padding: 0.5rem 0.1rem;
  transition: color 0.2s ease-in-out;
  display: flex;
  align-items: center;
  /* Ensure consistent baseline alignment */
  height: 44px; /* Match search container height */
  line-height: 44px; /* Vertically align text */
}

.navLink:hover {
  color: var(--primary-100);
}

/* Dropdown specific styles */
.dropdown {
  position: relative;
}

.dropdownToggle {
  background: none;
  border: none;
  color: var(--text-100);
  font-weight: 500;
  padding: 0.5rem 0.1rem;
  cursor: pointer;
  display: flex;
  align-items: center;
  transition: color 0.2s ease-in-out;
   /* Ensure consistent baseline alignment */
  height: 44px; /* Match search container height */
}

.dropdownToggle:hover {
  color: var(--primary-100);
}

.chevron {
  margin-left: 0.25rem;
  transition: transform 0.2s ease-in-out;
  color: var(--text-medium); /* Match link color */
}
.chevronOpen {
    transform: rotate(180deg);
}


.dropdownMenu {
  position: absolute;
  left: 0;
  top: calc(100% + 0.5rem);
  background-color: var(--bg-300);
  border-radius: 6px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  padding: 0.5rem 0;
  min-width: 180px;
  opacity: 0;
  visibility: hidden;
  transform: translateY(-5px);
  transition: opacity 0.2s ease, visibility 0.2s ease, transform 0.2s ease;
  z-index: 60;
  border: 1px solid var(--accent-100);
}

.dropdownMenuOpen {
  opacity: 1;
  visibility: visible;
  transform: translateY(0);
}

.dropdownItem {
  display: block;
  padding: 0.5rem 1rem;
  color: var(--text-100);
  text-decoration: none;
  transition: background-color 0.2s ease;
}

.dropdownItem:hover {
  background-color: var(--accent-100);
  color: var(--primary-100);
}

/* --- Search Container and Animation (Desktop) --- */
.searchContainer {
  display: flex;
  align-items: center;
  position: relative;
  /* Initial state: Looks like a button/link */
  width: 120px; /* Adjust width to fit button text */
  height: 44px; /* Match other nav items */
  transition: all 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55); /* Loose animation */
  cursor: pointer;
  border-radius: 12px; /* Match button border-radius */
  overflow: hidden; /* Hide overflowing input initially */
  background: linear-gradient(135deg, var(--primary-100) 0%, var(--primary-200) 100%); /* Button background */
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.12); /* Button shadow */
}

/* Expanded state */
.searchContainer.searchExpanded {
  width: 380px; /* Expanded width */
  background: var(--bg-300); /* Input background */
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08); /* Input shadow */
  border: 2px solid var(--primary-100); /* Input border */
}

.searchInput {
  position: absolute;
  left: 0;
  width: 100%;
  height: 100%;
  padding: 0.5rem 3.2rem 0.5rem 1.4rem;
  border: none; /* Border handled by container */
  border-radius: 12px;
  background-color: transparent; /* Transparent, container has background */
  color: var(--text-100);
  font-size: 0.95rem;
  /* Initial state: Hidden */
  opacity: 0;
  transform: translateX(-20px) scale(0.95);
  transition: all 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55); /* Loose animation */
  pointer-events: none; /* Prevent interaction when hidden */
}

.searchContainer.searchExpanded .searchInput {
  opacity: 1;
  transform: translateX(0) scale(1);
  pointer-events: auto; /* Allow interaction when visible */
}

.searchInput:focus {
  outline: none;
  border-color: var(--primary-200); /* Focus border color */
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12); /* Focus shadow */
  background-color: white; /* White background on focus */
}

.searchButton {
  position: absolute; /* Position inside container */
  right: 0; /* Align to the right */
  top: 0;
  bottom: 0;
  width: 100%; /* Button takes full width initially */
  background: transparent; /* Background handled by container */
  color: white; /* Button text color */
  font-weight: 600;
  font-size: 0.95rem;
  font-family: var(--font-body);
  padding: 0.6rem 1.4rem;
  border-radius: 12px;
  border: none;
  transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55); /* Loose animation */
  display: flex;
  align-items: center;
  justify-content: center; /* Center content */
  gap: 0.7rem;
  z-index: 1; /* Above input */
  cursor: pointer;
  backdrop-filter: blur(8px); /* Blur effect */
}

.searchButton:hover {
  transform: translateY(-2px) scale(1.02);
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
  background: linear-gradient(135deg, var(--primary-200) 0%, var(--primary-100) 100%); /* Hover background */
}

/* Expanded state: Button becomes just an icon */
.searchContainer.searchExpanded .searchButton {
  position: absolute;
  right: 8px; /* Position icon on the right */
  top: 50%;
  transform: translateY(-50%); /* Center vertically */
  background: transparent; /* No background */
  color: var(--primary-100); /* Icon color */
  padding: 0.6rem;
  width: auto; /* Auto width */
  height: auto; /* Auto height */
  box-shadow: none; /* No shadow */
  border-radius: 50%; /* Make it round */
  justify-content: center; /* Center icon */
}

.searchContainer.searchExpanded .searchButton:hover {
  color: var(--primary-200);
  background-color: var(--bg-200);
  transform: translateY(-50%) scale(1.1); /* Scale up on hover */
}


.searchIcon {
  color: inherit;
  transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55); /* Loose animation */
}

/* Expanded state: Icon might scale slightly */
.searchContainer.searchExpanded .searchIcon {
  transform: scale(1.1);
}

.searchContainer.searchExpanded .searchButton:hover .searchIcon {
  transform: scale(1.1) rotate(-90deg); /* Rotate on hover in expanded state */
}

.searchText {
  transition: all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55); /* Loose animation */
  opacity: 1;
  white-space: nowrap;
  letter-spacing: 0.4px;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}

/* Expanded state: Hide text */
.searchContainer.searchExpanded .searchText {
  opacity: 0;
  width: 0;
  overflow: hidden;
}

/* Remove desktopSearch container as it's now inline */
.desktopSearch {
  display: none;
}


/* Mobile Search Styles */
.mobileSearchContainer {
  margin-top: 1rem;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.mobileSearchInput {
  width: 100%;
  padding: 0.75rem 1rem;
  border: 1px solid var(--border-light);
  border-radius: 6px;
  background-color: var(--bg-300);
  color: var(--text-100);
  font-size: 0.9rem;
}

/* Mobile Menu Styles */
.mobileMenuButton {
  display: block;
  background: none;
  border: none;
  color: var(--text-dark); /* Dark icon */
  padding: 0;
  cursor: pointer;
}
@media (min-width: 768px) {
  .mobileMenuButton {
    display: none;
  }
}

.mobileNav {
  /* Position absolute for smoother slide-down (requires parent relative/static) */
  position: absolute;
  top: 100%; /* Position below navbar */
  left: 0;
  right: 0;
  background-color: var(--bg-light); /* White background */
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  border-top: 1px solid var(--border-light);
  max-height: 0; /* Start hidden */
  overflow: hidden; /* Hide content */
  transition: max-height 0.3s ease-out; /* Animate height */
  z-index: 40; /* Below navbar */
}

.mobileNavOpen {
  max-height: 500px; /* Allow height to expand */
  /* Adjust max-height if menu is taller */
}

/* Add padding inside the mobile nav container */
.mobileNavContent {
    padding: 1rem;
}


.mobileNavLink {
  display: block;
  padding: 0.8rem 1rem;
  color: var(--text-dark);
  text-decoration: none;
  border-radius: 4px;
  transition: background-color 0.2s ease;
  font-weight: 500;
}

.mobileNavLink:hover {
  background-color: var(--bg-off-white);
}

/* Style for the mobile search button to match others */
.mobileSearchButton {
    width: 100%;
    justify-content: center;
}
